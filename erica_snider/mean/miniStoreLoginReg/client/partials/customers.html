<div ng-controller="CustomersController as CC">

  <a href="#" ng-click="UC.logout()">Log Out</a>
  <hr>
  
  <ul ng-init="UC.check(); CC.index()">
    <li ng-repeat='error in CC.errors'>{{error}}</li>
  </ul>

  <form ng-submit="CC.create(CC.newCustomer)">
    <p>Add a New Customer</p>
    Name: <input type="text" ng-model="CC.newCustomer.name"><br>
    <input type="submit" value="Add">
  </form>
  <hr>
  <br>

  <label>Filter name: <input type="text" ng-model="filterName.name"></label><br>
  <br>

  <table>
    <thead>
      <th>Customer Name</th>
      <th>Created Date</th>
      <th>Actions</th>
    </thead>
    <tbody>
      <tr ng-repeat="customer in CC.customers | filter:filterName:strict">
        <td>{{ customer.name }}</td>
        <td>{{ customer.createdAt | date: 'mediumDate' }}</td>
        <td><button ng-click="CC.destroy(customer._id)">Remove</button></td>
      </tr>
    </tbody>
  </table>

</div>
